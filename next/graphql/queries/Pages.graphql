query Pages {
  pages {
    data {
      id
      attributes {
        slug
        sections {
          ...Sections
        }
      }
    }
  }
}

query PagesStaticPaths($page: Int, $limit: Int) {
  pages(pagination: { page: $page, pageSize: $limit }) {
    data {
      id
      attributes {
        slug
      }
    }
  }
}

query PageBySlug($slug: String!, $locale: I18NLocaleCode!) {
  pages(filters: { slug: { eq: $slug } }, locale: $locale) {
    ...GeneralPage
  }

  footer(locale: $locale) {
    ...Footer
  }

  mainMenu: pageCategories(locale: $locale) {
    ...MainMenuItem
  }
}

query VznDetail($id: ID!) {
  vzn(id: $id) {
    data {
      id
      attributes {
        title
        validFrom
        mainDocument {
          data {
            attributes {
              url
              size
              ext
              createdAt
            }
          }
        }
      }
    }
  }
}

fragment GeneralPage on PageEntityResponseCollection {
  data {
    attributes {
      slug
      title
      pageColor
      metaDiscription
      pageBackgroundImage {
        data {
          attributes {
            url
          }
        }
      }
      pageButtonContent {
        title
        url
      }
      sections {
        ...Sections
      }
      locale
      localizations {
        ...Localization
      }
      pageHeaderSections {
        __typename
        ... on ComponentSectionsSubpageList {
          id
          subpageList(pagination: { limit: 50 }) {
            ...PageLink
          }
        }
        ... on ComponentSectionsFeaturedBlogPosts {
          id
          first_blog {
            ...BlogSection
          }
          second_blog {
            ...BlogSection
          }
          third_blog {
            ...BlogSection
          }
        }
      }
      parentPage {
        data {
          attributes {
            ...ParentPage
            parentPage {
              data {
                attributes {
                  ...ParentPage
                  parentPage {
                    data {
                      attributes {
                        ...ParentPage
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      pageCategory {
        data {
          id
          attributes {
            title
            color
          }
        }
      }
    }
    id
  }
}

fragment BlogSection on BlogPostEntityResponse {
  data {
    attributes {
      title
      publishedAt
      coverImage {
        data {
          attributes {
            url
          }
        }
      }
      tag {
        data {
          attributes {
            pageCategory {
              data {
                attributes {
                  color
                  shortTitle
                }
              }
            }
          }
        }
      }
      slug
    }
  }
}

fragment ParentPage on Page {
  slug
  locale
  title
}

fragment Localization on PageRelationResponseCollection {
  data {
    attributes {
      slug
      locale
    }
  }
}

fragment Footer on FooterEntityResponse {
  data {
    attributes {
      address
      copyright
      email
      facebookUrl
      instagramUrl
      phone
      youtubeUrl
      accessibilityLink {
        ...PageLink
      }
      footerSections {
        title
        pageLinks {
          ...PageLink
        }
      }
    }
  }
}

fragment MainMenuItem on PageCategoryEntityResponseCollection {
  data {
    id
    attributes {
      title
      color
      icon
      iconHover
      priority
      subcategories {
        data {
          id
          attributes {
            title
            priority
            icon
            moreLink {
              ...PageLink
            }
            pages {
              ...PageLink
            }
          }
        }
      }
    }
  }
}

fragment PageLink on ComponentBlocksPageLink {
  title
  url
  anchor
  page {
    data {
      attributes {
        title
        slug
        locale
      }
    }
  }
}

fragment IconTitleDesc on ComponentBlocksIconWithTitleAndDescription {
  title
  desc
  icon {
    data {
      id
      attributes {
        url
      }
    }
  }
}

fragment DocumentList on ComponentSectionsDocumentList {
  vzns {
    data {
      id
      attributes {
        category
        details
        amedmentDocument {
          id
          title
          validFrom
          document {
            data {
              attributes {
                url
                size
                ext
                createdAt
              }
            }
          }
        }
        cancellationDocument {
          id
          title
          validFrom
          document {
            data {
              attributes {
                url
                size
                ext
                createdAt
              }
            }
          }
        }
        title
        validFrom
        mainDocument {
          data {
            attributes {
              url
              size
              ext
              createdAt
            }
          }
        }
        consolidatedText {
          data {
            id
            attributes {
              url
              size
              ext
              createdAt
            }
          }
        }
      }
    }
  }
}

fragment File on ComponentBlocksFile {
  title
  category
  media {
    data {
      attributes {
        url
        createdAt
        size
        ext
      }
    }
  }
}

fragment institutionsNarrow on ComponentAccordionItemsInstitutionNarrow {
  title
  subtitle
  category
  url
  urlLabel
}

fragment FlatText on ComponentAccordionItemsFlatText {
  category
  content
  width
  align
  moreLinkTitle
  moreLinkUrl
  moreLinkPage {
    data {
      attributes {
        slug
        title
        locale
      }
    }
  }
}

fragment Institution on ComponentAccordionItemsInstitution {
  title
  subtitle
  category
  firstColumn
  secondColumn
  thirdColumn
  url
  urlLabel
}

fragment NumericalListItem on ComponentBlocksNumericalListItem {
  text
}

fragment Sections on PageSectionsDynamicZone {
  __typename

  ... on ComponentSectionsIconTitleDesc {
    title
    hasBackground
    list {
      ...IconTitleDesc
    }
  }

  ... on ComponentSectionsDocumentList {
    ...DocumentList
  }

  ... on ComponentSectionsDivider {
    hasBackground
    style
  }

  ... on ComponentSectionsTextWithImage {
    hasBackground
    content
    imagePosition
    imageShadow
    imageSrc {
      data {
        attributes {
          url
          alternativeText
        }
      }
    }
  }

  ... on ComponentSectionsIframe {
    url
    iframeWidth
    iframeHeight
    fullHeight
    allowFullscreen
    css
  }

  ... on ComponentSectionsFileList {
    hasBackground
    fileList(pagination: { limit: 500 }) {
      ...File
    }
  }

  ... on ComponentSectionsColumnedText {
    hasBackground
    content
  }

  ... on ComponentSectionsNarrowText {
    hasBackground
    content
    width
    align
  }

  ... on ComponentSectionsWaves {
    position
    isRich
  }

  ... on ComponentSectionsLinks {
    title
    hasBackground
    pageLinks(pagination: { limit: 100 }) {
      ...PageLink
    }
  }
  ... on ComponentSectionsContact {
    title
    hasBackground
    description
    phone
    phoneLabel
    email
    emailLabel
    address
  }

  ... on ComponentSectionsAccordion {
    title
    hasBackground
    institutions(pagination: { limit: 100 }) {
      ...Institution
    }
    flatText(pagination: { limit: 100 }) {
      ...FlatText
    }
    institutionsNarrow(pagination: { limit: 100 }) {
      ...institutionsNarrow
    }
  }

  ... on ComponentSectionsCalculator {
    hasBackground
    single_adult_value
    another_adult_value
    child_value
  }

  ... on ComponentSectionsListItems {
    title
    hasBackground
    listItems {
      content
      moreLinkTitle
      moreLinkUrl
      moreLinkPage {
        data {
          attributes {
            locale
            slug
            title
          }
        }
      }
      circleOption
    }
  }

  ... on ComponentSectionsVideos {
    id
    title
    subtitle
    videos {
      id
      title
      speaker
      url
    }
  }

  ... on ComponentSectionsNumericalList {
    id
    items {
      ...NumericalListItem
    }
    title
    variant
    buttonText
    buttonLink
    hasBackground
  }

  ... on ComponentSectionsArticlesList {
    title
    category {
      data {
        attributes {
          title
        }
      }
    }
    filtering
  }

  ... on ComponentSectionsOrganizationalStructure {
    id
    items {
      title
      departments {
        title
        titleOverride
        extraPeople(pagination: { limit: 50 }) {
          email
        }
        items(pagination: { limit: 50 }) {
          isGroupTitle
          title
          titleOverride
          extraPeople(pagination: { limit: 50 }) {
            email
          }
          items(pagination: { limit: 50 }) {
            title
            titleOverride
            extraPeople(pagination: { limit: 50 }) {
              email
            }
          }
        }
      }
    }
    title
  }
}
