fragment InbaReleaseSlugEntity on InbaRelease {
  documentId
  title
  slug
}

fragment InbaReleaseCardEntity on InbaRelease {
  ...InbaReleaseSlugEntity
  perex
  releaseDate
  coverImage {
    ...UploadImageEntity
  }
}

fragment InbaReleaseEntity on InbaRelease {
  ...InbaReleaseCardEntity
  rearImage {
    ...UploadImageEntity
  }
  files {
    id
    title
    media {
      ...UploadFileEntity
    }
  }
  articles {
    ...ArticleCardEntity
  }
  featuredArticles {
    ...ArticleCardEntity
  }
}

fragment InbaReleaseHomepageInbaCardEntity on InbaRelease {
  documentId
  coverImage {
    ...UploadImageEntity
  }
  rearImage {
    ...UploadImageEntity
  }
}

query InbaReleaseBySlug($slug: String!) {
  inbaReleases(filters: { slug: { eq: $slug } }) {
    ...InbaReleaseEntity
  }
}

query InbaReleasesStaticPaths {
  inbaReleases(sort: "releaseDate:desc") {
    documentId
    slug
  }
}

query InbaReleasesRssFeed {
  inbaReleases(sort: "releaseDate:desc", pagination: { limit: -1 }) {
    ...InbaReleaseCardEntity
  }
}

query HomepageLatestInbaRelease {
  inbaReleases(sort: "releaseDate:desc", pagination: { limit: 1 }) {
    ...InbaReleaseHomepageInbaCardEntity
  }
}

query LatestInbaRelease {
  inbaReleases(sort: "releaseDate:desc", pagination: { limit: 1 }) {
    ...InbaReleaseEntity
  }
}
